const languageSelect=document.getElementById("languageSelect"),codeInput=document.getElementById("codeInput"),removeCommentsBtn=document.getElementById("removeCommentsBtn"),copyToClipboardBtn=document.getElementById("copyToClipboardBtn"),codeOutput=document.getElementById("codeOutput"),darkModeToggle=document.getElementById("darkModeToggle"),body=document.body;function removeComments(e,o){return"c++"===o||"java"===o||"javascript"===o?e=e.replace(/\/\/.*|\/\*[\s\S]*?\*\//g,""):"python"===o?e=e.replace(/#.*/g,"").replace(/'''.*?'''/gs,""):"golang"===o?e=e.replace(/\/\/.*|\/\*[\s\S]*?\*\//g,""):"ruby"===o?e=e.replace(/#.*/g,""):"swift"===o?e=e.replace(/\/\/.*|\/\*[\s\S]*?\*\//g,""):"css"===o?e=e.replace(/\/\*[\s\S]*?\*\//g,""):"html"===o&&(e=e.replace(/<!--[\s\S]*?-->/g,"")),e}function toggleDarkMode(){darkModeToggle.checked?(document.body.classList.add("dark-mode"),localStorage.setItem("darkMode","enabled")):(document.body.classList.remove("dark-mode"),localStorage.setItem("darkMode","disabled"))}removeCommentsBtn.addEventListener("click",(()=>{const e=languageSelect.value,o=removeComments(codeInput.value,e);codeOutput.value=o})),copyToClipboardBtn.addEventListener("click",(()=>{codeOutput.select(),codeOutput.setSelectionRange(0,99999),document.execCommand("copy"),alert("Code copied to clipboard!")})),darkModeToggle.addEventListener("change",(()=>{darkModeToggle.checked?(body.classList.add("dark-mode"),body.classList.remove("light-mode")):(body.classList.remove("dark-mode"),body.classList.add("light-mode"))})),darkModeToggle.checked&&toggleDarkMode(),darkModeToggle.addEventListener("change",toggleDarkMode);const savedDarkMode=localStorage.getItem("darkMode");function setLanguagePreference(){const e=languageSelect.value;localStorage.setItem("languagePreference",e)}"enabled"===savedDarkMode&&(darkModeToggle.checked=!0,toggleDarkMode()),languageSelect.addEventListener("change",setLanguagePreference);const savedLanguage=localStorage.getItem("languagePreference");savedLanguage&&(languageSelect.value=savedLanguage);